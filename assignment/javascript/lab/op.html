<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Star Drawer — JavaScript Canvas</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:18px;background:#f6f7fb;color:#111}
    .controls{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px;align-items:center}
    label{font-size:13px}
    input[type=range]{width:160px}
    canvas{background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 6px 18px rgba(10,10,20,0.06)}
    .btn{padding:8px 12px;border-radius:8px;border:1px solid #ccc;background:#fff;cursor:pointer}
  </style>
</head>
<body>
  <h2>Star Drawer — JavaScript + &lt;canvas&gt;</h2>
  <p>Use the controls to change points, sizes, rotation, and style. Click &quot;Draw&quot; to render and &quot;Download PNG&quot; to save.</p>

  <div class="controls">
    <label>Points: <input id="points" type="number" min="3" max="20" value="5" style="width:68px"></label>
    <label>Outer radius: <input id="outer" type="range" min="20" max="240" value="120"></label>
    <label>Inner radius: <input id="inner" type="range" min="5" max="200" value="50"></label>
    <label>Rotation: <input id="rotation" type="range" min="0" max="360" value="0"></label>
    <label>Fill color: <input id="fillColor" type="color" value="#ffcc33"></label>
    <label>Stroke color: <input id="strokeColor" type="color" value="#ff8c00"></label>
    <label><input id="fill" type="checkbox" checked> Fill</label>
    <label><input id="stroke" type="checkbox" checked> Stroke</label>
    <button id="drawBtn" class="btn">Draw</button>
    <button id="downloadBtn" class="btn">Download PNG</button>
  </div>

  <canvas id="c" width="600" height="420"></canvas>

  <script>
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');

    const elems = {
      points: document.getElementById('points'),
      outer: document.getElementById('outer'),
      inner: document.getElementById('inner'),
      rotation: document.getElementById('rotation'),
      fillColor: document.getElementById('fillColor'),
      strokeColor: document.getElementById('strokeColor'),
      fill: document.getElementById('fill'),
      stroke: document.getElementById('stroke'),
      drawBtn: document.getElementById('drawBtn'),
      downloadBtn: document.getElementById('downloadBtn')
    };

    function clear() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
    }

    // drawStar draws a star at (cx,cy) with n points, outer and inner radii, rotation in radians
    function drawStar(ctx, cx, cy, n, outerR, innerR, rotation) {
      if (n < 2) return;
      const step = Math.PI / n; // half-step because star alternates outer/inner
      ctx.beginPath();
      for (let i = 0; i < 2 * n; i++) {
        const r = (i % 2 === 0) ? outerR : innerR;
        const angle = i * step + rotation;
        const x = cx + Math.cos(angle) * r;
        const y = cy + Math.sin(angle) * r;
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.closePath();
    }

    function render() {
      clear();
      const w = canvas.width;
      const h = canvas.height;
      const cx = w / 2;
      const cy = h / 2;
      const n = parseInt(elems.points.value, 10);
      const outerR = parseFloat(elems.outer.value);
      const innerR = parseFloat(elems.inner.value);
      const rot = parseFloat(elems.rotation.value) * Math.PI / 180;

      // background subtle grid
      ctx.save();
      ctx.fillStyle = '#f8fafc';
      ctx.fillRect(0,0,w,h);
      ctx.restore();

      // option: gradient fill
      if (elems.fill.checked) {
        const g = ctx.createLinearGradient(cx - outerR, cy - outerR, cx + outerR, cy + outerR);
        g.addColorStop(0, elems.fillColor.value);
        // slightly darker stop
        g.addColorStop(1, shadeColor(elems.fillColor.value, -15));
        ctx.fillStyle = g;
      }

      if (elems.stroke.checked) {
        ctx.lineWidth = Math.max(2, Math.round(outerR / 24));
        ctx.strokeStyle = elems.strokeColor.value;
        ctx.lineJoin = 'round';
        ctx.lineCap = 'round';
      }

      drawStar(ctx, cx, cy, n, outerR, innerR, rot);

      if (elems.fill.checked) ctx.fill();
      if (elems.stroke.checked) ctx.stroke();

      // small center highlight
      ctx.beginPath();
      ctx.arc(cx, cy, Math.max(1, outerR/24), 0, Math.PI*2);
      ctx.fillStyle = 'rgba(255,255,255,0.8)';
      ctx.fill();
    }

    // utility to slightly darken/lighten a hex color
    function shadeColor(hex, percent) {
      const f = hex.slice(1);
      const R = parseInt(f.substring(0,2),16);
      const G = parseInt(f.substring(2,4),16);
      const B = parseInt(f.substring(4,6),16);
      const t = percent < 0 ? 0 : 255;
      const p = Math.abs(percent) / 100;
      const r = Math.round((t - R) * p) + R;
      const g = Math.round((t - G) * p) + G;
      const b = Math.round((t - B) * p) + B;
      return '#' + ( (1<<24) + (r<<16) + (g<<8) + b ).toString(16).slice(1);
    }

    // wire up controls
    elems.drawBtn.addEventListener('click', render);

    // redraw live when sliders change
    ['points','outer','inner','rotation','fillColor','strokeColor','fill','stroke'].forEach(id => {
      document.getElementById(id).addEventListener('input', render);
    });

    // allow download
    elems.downloadBtn.addEventListener('click', () => {
      const url = canvas.toDataURL('image/png');
      const a = document.createElement('a');
      a.href = url;
      a.download = 'star.png';
      document.body.appendChild(a);
      a.click();
      a.remove();
    });

    // initial draw
    render();
  </script>
</body>
</html>